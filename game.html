<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battle</title>
</head>
<body>
    <div class="game">
        <div id="opponent1" class="opponent opponent1">
          <div class="stats">
            <div class="top">
            
              <div id = "venusaurHP" class="hp-count">100</div>
            </div>
            <span  id="venusaur-name" class="name">
              venusaur
            </span>
           
          </div>
          <img class="pokemon" src="./images/venusaur.gif" alt ="A sprite of charizard" />
        </div>
      
        <div id="opponent2"  class="opponent opponent2 ">
          <div class="stats">
            <div class="top">
            
              <div id = "charmeleonHP" class="hp-count">100</div>
            </div>
            <span id="charmeleon-name" class="name">
              charmeleon
            </span>
         
          </div>
          <img class="pokemon" src="./images/charmeleongif.gif" alt ="A sprite of charmeleon" />
        </div>
      
        <div id="player" class="player">
          <div class="stats">
            <div class="top">
            
              <div id = "myHP" class="hp-count">100</div>
            </div>
            <span class="name">
              Blastoise
            </span>
          
          </div>
          <img class="pokemon" src="./images/blastoise.gif" alt="A gif from blastoises back sprite" />
        </div>
      
      </div>
      <div class="box">
        <div  class="message">
         <span id = "message" > What should Blastoise do?</span>
         <span id="gameOver">gameOver</span>
         <button id="tryagain" class="tryagain" onclick = "startGame()">Try again</button>
        </div>
        <div id="player-action" class="player-action">
      <div id="select-section">    <div>Select opponent</div>
      <select id="selected-openent">
        <option value=""></option>
        <option value="venusaur">venusaur</option>
        <option value="charmeleon">charmeleon</option>
      </select></div>
          <div>select Attack</div>
          <div class="actions">
            <button onclick = "waterCannon()">Water Cannon</button>
            <button onclick = "waterPulse()">Water Pulse</button>
            <button onclick = "surf()">Surf</button>
            <button onclick = "tackle()">Tackle</button>
          </div>
        </div>
        <div id="continue" class = "continue">
          <button onclick = "compPokemon()"> Opponent Attack</button>
        </div>
      </div>
      <script>
var userHP = 100;
var venusaurHP = 100;
var charmeleonHP = 100;
var charmeleonAttack = [flameThrower, firFang, flameBurst,ember];
var venusaurAttack = [solarBeam,petalBlizzard,vineWhip,  razoLeaf];
var playerMove = 0;

function waterCannon() {
  let selected_opponent = (document.getElementById("selected-openent")).value;
  if(selected_opponent!=="venusaur" && selected_opponent!=="charmeleon" ) {
    alert("select one opponent");
    return ;
  }
  let opHP = 0 ;
  if(playerMove == 0 && userHP != 0) {
    var miss = Math.floor((Math.random() * 10) + 1);
    if(miss == 1) {
      document.getElementById('message').innerHTML = " Blastoise's attack missed! ";
      document.getElementById("player-action").style.display = "none";
      document.getElementById("continue").style.display = "block";
    }else {
      document.getElementById('message').innerHTML = " Blastoise used water cannon "+"to attack to"+selected_opponent;
      var critical = Math.floor((Math.random() * 10) + 1);
      if(critical == 4){
        for(var x = 0; x < 2; x++){
          opHP  -= 30;
        }
      }
      else{
        opHP =  - 30;
      }
     setPointForOpponent(selected_opponent,opHP);
  
    }
    
    playerMove = 1;
}
}

function setPointForOpponent(selected_opponent,opHP){

if(selected_opponent=="venusaur" ){
  venusaurHP = venusaurHP + opHP;

  if(venusaurHP < 0){ venusaurHP = 0}
  document.getElementById('venusaurHP').innerHTML = venusaurHP;
  if(venusaurHP == 0){
    document.getElementById('message').innerHTML = " Venusaur fainted! "
    document.getElementById('venusaur-name').innerHTML = " Venusaur fainted! " 
    document.getElementById('opponent1').style.display = "none" ;
    document.getElementById('select-section').style.display = "none" ;
    (document.getElementById("selected-openent")).value = "charmeleon"
    var audio = new Audio("./win.wav");
    audio.play();
  }

}else if(selected_opponent=="charmeleon"){

  charmeleonHP = charmeleonHP + opHP;
  if(charmeleonHP < 0){ charmeleonHP = 0}
  document.getElementById('charmeleonHP').innerHTML = charmeleonHP;
  if(charmeleonHP  == 0){
    document.getElementById('message').innerHTML = " charmeleon fainted! " ;
    document.getElementById('charmeleon-name').innerHTML = " charmeleon fainted! " ;
    document.getElementById('opponent2').style.display = "none" ;
    document.getElementById('select-section').style.display = "none" ;
    (document.getElementById("selected-openent")).value = "venusaur"
    var audio = new Audio("./win.wav");
    audio.play();
  }

}else{

  return;
}

if(venusaurHP==0 &&  charmeleonHP==0){
  gameWin();
}else{
  document.getElementById("player-action").style.display = "none";
  document.getElementById("continue").style.display = "block";
}
}

function waterPulse() {
  let selected_opponent = (document.getElementById("selected-openent")).value;
  if(selected_opponent!=="venusaur" && selected_opponent!=="charmeleon" ) {
    alert("select one opponent");
    return ;
  }
  let opHP = 0 ;
  if(playerMove == 0 && userHP != 0) {
  var miss = Math.floor((Math.random() * 10) + 1);
  if(miss == 1 ) {
    document.getElementById('message').innerHTML = " Blastoise's attack missed! "
    document.getElementById("player-action").style.display = "none";
    document.getElementById("continue").style.display = "block";
  }
  else {
    document.getElementById('message').innerHTML = " Blastoise used water pulse "+"to attack to"+selected_opponent;
    var critical = Math.floor((Math.random() * 10) + 1);
      if(critical == 4){
        for(var x = 0; x < 2; x++){
          opHP = opHP - 20;
        }
      }
      else{
        opHP = opHP - 20;
      }
      setPointForOpponent(selected_opponent,opHP);
  }
 
  playerMove = 1;
}
}

function surf() {
  let selected_opponent = (document.getElementById("selected-openent")).value;
  if(selected_opponent!=="venusaur" && selected_opponent!=="charmeleon" ) {
    alert("select one opponent");
    return ;
  }
  let opHP = 0 ;
  if(playerMove == 0 && userHP != 0) {
  var miss = Math.floor((Math.random() * 10) + 1);
  if(miss == 1 ) {
    document.getElementById('message').innerHTML = " Blastoise's attack missed! "
    document.getElementById("player-action").style.display = "none";
    document.getElementById("continue").style.display = "block";
  }
  else {
    document.getElementById('message').innerHTML = " Blastoise used surf "+"to attack to"+selected_opponent;
    var critical = Math.floor((Math.random() * 10) + 1);
      if(critical == 4){
        for(var x = 0; x < 2; x++){
          opHP = opHP - 10;
        }
      }
      else{
        opHP = opHP - 10;
      }
      setPointForOpponent(selected_opponent,opHP);
  }
  
  playerMove = 1;
}
}

function tackle() {
  let selected_opponent = (document.getElementById("selected-openent")).value;
  if(selected_opponent!=="venusaur" && selected_opponent!=="charmeleon" ) {
    alert("select one opponent");
    return ;
  }
  let opHP = 0 ;
  if(playerMove == 0 && userHP != 0) {
  
  var miss = Math.floor((Math.random() * 10) + 1);
  if(miss == 1 ) {
    document.getElementById('message').innerHTML = " Blastoise's attack missed! "
    document.getElementById("player-action").style.display = "none";
    document.getElementById("continue").style.display = "block";
  }
  else {
    document.getElementById('message').innerHTML = " Blastoise used tackle "+"to attack to"+selected_opponent;
    var critical = Math.floor((Math.random() * 10) + 1);
      if(critical == 4){
        for(var x = 0; x < 2; x++){
          opHP = opHP - 5;
        }
      }
      else{
        opHP = opHP - 5;
      }
      setPointForOpponent(selected_opponent,opHP);
  }
  
  playerMove = 1;
}
}

function flameThrower() {
  var miss = Math.floor((Math.random() * 10) + 1);
  if(miss == 1 ) {
  document.getElementById('message').innerHTML = " charmeleon's attack missed! " 
  document.getElementById("player-action").style.display = "flex";
  document.getElementById("continue").style.display = "none";
  }
  else {
  document.getElementById('message').innerHTML = " charmeleon used flame thrower " 
    var critical = Math.floor((Math.random() * 10) + 1); 
      if(critical == 4){
        for(var x = 0; x < 2; x++){ 
          userHP = userHP - 30;
        }
      }
      else{
        userHP = userHP - 30;
      }
  if(userHP < 0) { userHP = 0}
  document.getElementById('myHP').innerHTML = userHP;
    if(userHP == 0) {
      document.getElementById('message').innerHTML = " Blastoise fainted! "
     gameOver();
    }else{
      document.getElementById("player-action").style.display = "flex";
      document.getElementById("continue").style.display = "none";
    }
  }
}

function firFang() {
  var miss = Math.floor((Math.random() * 10) + 1);
  if(miss == 1 ) {
    document.getElementById('message').innerHTML = " charmeleon's attack missed! "
    document.getElementById("player-action").style.display = "flex";
    document.getElementById("continue").style.display = "none";
  }
  else {
  document.getElementById('message').innerHTML = " charmeleon used fire fang "
  var critical = Math.floor((Math.random() * 10) + 1);
    if(critical == 4){
      for(var x = 0; x < 2; x++){
        userHP = userHP - 20;
      }
    }
    else{
      userHP = userHP - 20;
    }
  if(userHP < 0) { userHP = 0}
  document.getElementById('myHP').innerHTML = userHP;
    if(userHP == 0){
      document.getElementById('message').innerHTML = " Blastoise fainted! ";
      gameOver();
    }else{
      document.getElementById("player-action").style.display = "flex";
      document.getElementById("continue").style.display = "none";
    }
  }
}

function flameBurst() {
  var miss = Math.floor((Math.random() * 10) + 1);
  if(miss == 1 ) {
    document.getElementById('message').innerHTML = " charmeleon's attack missed! "
    document.getElementById("player-action").style.display = "flex";
    document.getElementById("continue").style.display = "none";
  }
  else {
  document.getElementById('message').innerHTML = " charmeleon used flame Burst "
  var critical = Math.floor((Math.random() * 10) + 1);
    if(critical == 4){
      for(var x = 0; x < 2; x++){
        userHP = userHP - 10;
      }
    }
    else{
      userHP = userHP - 10;
    }
  if(userHP < 0) { userHP = 0}
  document.getElementById('myHP').innerHTML = userHP;
    if(userHP == 0){
      document.getElementById('message').innerHTML = " Blastoise fainted! ";
      gameOver();
    }else{
      document.getElementById("player-action").style.display = "flex";
      document.getElementById("continue").style.display = "none";
    }
  }
}

function ember() {
  var miss = Math.floor((Math.random() * 10) + 1);
  if(miss == 1 ) {
    document.getElementById('message').innerHTML = " charmeleon's attack missed! "
    document.getElementById("player-action").style.display = "flex";
    document.getElementById("continue").style.display = "none";
  }
  else {
  document.getElementById('message').innerHTML = " charmeleon used ember "
  var critical = Math.floor((Math.random() * 10) + 1);
    if(critical == 4){
      for(var x = 0; x < 2; x++){
        userHP = userHP - 5;
      }
    }
    else{
      userHP = userHP - 5;
    }
  if(userHP < 0) { userHP = 0}
  document.getElementById('myHP').innerHTML = userHP;
    if(userHP == 0){
      document.getElementById('message').innerHTML = " Blastoise fainted! ";
      gameOver();
    }else{
      document.getElementById("player-action").style.display = "flex";
      document.getElementById("continue").style.display = "none";
    }
  }
}

function solarBeam() {
  var miss = Math.floor((Math.random() * 10) + 1);
  if(miss == 1 ) {
  document.getElementById('message').innerHTML = " venusaur's attack missed! " 
  document.getElementById("player-action").style.display = "flex";
  document.getElementById("continue").style.display = "none";
  }
  else {
  document.getElementById('message').innerHTML = " venusaur used solar Beam "
    var critical = Math.floor((Math.random() * 10) + 1);
      if(critical == 4){
        for(var x = 0; x < 2; x++){
          userHP = userHP - 30;
        }
      }
      else{
        userHP = userHP - 30;
      }
  if(userHP < 0) { userHP = 0}
  document.getElementById('myHP').innerHTML = userHP;
    if(userHP == 0) {
      document.getElementById('message').innerHTML = " Blastoise fainted! "
      
     gameOver();
    }else{
      document.getElementById("player-action").style.display = "flex";
      document.getElementById("continue").style.display = "none";
    }
  }
}
function petalBlizzard() {
  var miss = Math.floor((Math.random() * 10) + 1);
  if(miss == 1 ) {
    document.getElementById('message').innerHTML = " venusaur's attack missed! "
    document.getElementById("player-action").style.display = "flex";
    document.getElementById("continue").style.display = "none";

  }
  else {
  document.getElementById('message').innerHTML = " venusaur used petal Blizzard "
  var critical = Math.floor((Math.random() * 10) + 1);
    if(critical == 4){
      for(var x = 0; x < 2; x++){
        userHP = userHP - 20;
      }
    }
    else{
      userHP = userHP - 20;
    }
  if(userHP < 0) { userHP = 0}
  document.getElementById('myHP').innerHTML = userHP;
    if(userHP == 0){
      document.getElementById('message').innerHTML = " Blastoise fainted! ";
      gameOver();
    }else{
      document.getElementById("player-action").style.display = "flex";
      document.getElementById("continue").style.display = "none";
    }
  }
}
      </script>
</body>
</html>